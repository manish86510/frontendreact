{"ast":null,"code":"var _jsxFileName = \"/home/tech/Documents/energefrontend/src/containers/login.js\";\nimport React, { useState } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport '../styles/Login.css';\nimport axios from 'axios';\nimport { useAuth } from \"../context/auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport Img from \"react-image\";\nimport { withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst image = require(\"../img/login_image.png\");\n\nconst styles = theme => ({}); // function validateForm() {\n//     return username.length > 0 && password.length > 0;\n// }\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.postLogin = e => {\n      e.preventDefault();\n      let self = this;\n      axios.post(\"https://energeapi.do.viewyoursite.net/api/token/\", {\n        username: self.state.username,\n        password: self.state.password\n      }).then(result => {\n        if (result.status === 200) {\n          console.log(result.data);\n          localStorage.setItem('access', result.data.access);\n          localStorage.setItem('refresh', result.data.refresh);\n          this.props.history.push({\n            pathname: \"/home\"\n          });\n        } else {\n          this.setState({\n            isError: \"User not found!\"\n          });\n        }\n      }).catch(e => {\n        this.setState({\n          isError: \"User not found!\"\n        });\n      });\n    };\n\n    this.handleUserName = e => {\n      console.log(e.target.value);\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.handlePassword = e => {\n      console.log(e.target.value);\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.state = {\n      isLoggedIn: '',\n      isError: '',\n      username: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" Login in to \"), React.createElement(\"h4\", {\n      align: \"center\",\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \" Energe \"), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.isError), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      method: \"post\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      controlId: \"username\",\n      bsSize: \"large\",\n      className: \"padb10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      type: \"text\",\n      placeholder: \"username\",\n      value: this.state.username,\n      onChange: this.handleUserName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      controlId: \"password\",\n      bsSize: \"large\",\n      className: \"padb10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      value: this.state.password,\n      placeholder: \"password\",\n      onChange: this.handlePassword,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"padb10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/forgetpass\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" Forgot your password ? Reset! \")), React.createElement(Button, {\n      block: true,\n      bsSize: \"large\",\n      type: \"submit\",\n      onClick: this.postLogin,\n      className: \"padb10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Log in\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" Don 't have an account? Sign up!\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: image,\n      style: {\n        width: \"100%\",\n        height: \"fit-content\",\n        bottom: 0,\n        position: \"absolute\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })));\n  }\n\n}\n\nLogin.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default withRouter(withStyles(styles)(Login));","map":{"version":3,"sources":["/home/tech/Documents/energefrontend/src/containers/login.js"],"names":["React","useState","Button","FormGroup","FormControl","FormLabel","axios","useAuth","Link","Redirect","Img","withRouter","PropTypes","withStyles","image","require","styles","theme","Login","Component","constructor","props","postLogin","e","preventDefault","self","post","username","state","password","then","result","status","console","log","data","localStorage","setItem","access","refresh","history","push","pathname","setState","isError","catch","handleUserName","target","value","handlePassword","isLoggedIn","render","handleSubmit","width","height","bottom","position","propTypes","children","node","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\nimport '../styles/Login.css'\nimport axios from 'axios';\nimport { useAuth } from \"../context/auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport Img from \"react-image\";\nimport { withRouter } from 'react-router-dom';\nimport { PropTypes } from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst image = require(\"../img/login_image.png\");\nconst styles = theme => ({});\n// function validateForm() {\n//     return username.length > 0 && password.length > 0;\n// }\nclass Login extends React.Component {\n    constructor(props) {\n            super(props);\n            this.state = {\n                isLoggedIn: '',\n                isError: '',\n                username: '',\n                password: '',\n            }\n        }\n    postLogin = (e) => {\n        e.preventDefault();\n        let self = this;\n        axios.post(\"https://energeapi.do.viewyoursite.net/api/token/\", {\n            username: self.state.username,\n            password: self.state.password\n        }).then(result => {\n            if (result.status === 200) {\n                console.log(result.data);\n                localStorage.setItem('access', result.data.access);\n                localStorage.setItem('refresh', result.data.refresh);\n                this.props.history.push({\n                    pathname: \"/home\"\n                });\n            } else {\n                this.setState({\n                    isError: \"User not found!\"\n                });\n            }\n        }).catch(e => {\n            this.setState({\n                isError: \"User not found!\"\n            });\n        });\n    }\n    \n    handleUserName = e => {\n        console.log(e.target.value);\n        this.setState({\n          username: e.target.value,\n        });\n      }\n      handlePassword = e => {\n        console.log(e.target.value);\n        this.setState({\n          password: e.target.value,\n        });\n      }\n  \n    render() {\n        return ( <div className = \"Login\" >\n            <h4 align = \"center\" > Login in to </h4>\n            <h4 align = \"center\"\n            id = \"title\" > Energe </h4>\n            <center>\n            <p>{ this.state.isError }</p>\n            <form onSubmit = { this.handleSubmit }\n            method = \"post\">\n            <FormGroup controlId = \"username\"\n            bsSize = \"large\"\n            className = \"padb10\" >\n            <FormControl autoFocus type = \"text\"\n            placeholder = \"username\"\n            value = { this.state.username }\n            onChange = { this.handleUserName }\n            />  \n            </FormGroup > \n            <FormGroup controlId = \"password\"\n            bsSize = \"large\"\n            className = \"padb10\" >\n            <FormControl value = { this.state.password }\n            placeholder = \"password\"\n            onChange = { this.handlePassword }\n            type = \"password\" />\n            </FormGroup>\n            <p className = \"padb10\"> <a href = \"/forgetpass\"> Forgot your password ? Reset! </a></p>\n            <Button block bsSize = \"large\"\n            type = \"submit\"\n            onClick = { this.postLogin }\n            className = \"padb10\" >\n            Log in\n            </Button> \n            </form>\n            <p><a href = \"/register\" > Don 't have an account? Sign up!</a></p>  \n            </center> \n            <div>\n            <img src = { image }\n            style = {\n                { width: \"100%\", height: \"fit-content\", bottom: 0, position: \"absolute\" }\n            }/>  \n            </div>\n            </div>\n        );\n    }\n}\nLogin.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default withRouter(withStyles(styles)(Login));"]},"metadata":{},"sourceType":"module"}